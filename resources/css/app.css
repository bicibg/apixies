/* ────────────────────────────────────────────────────────────
   APPIXIES  –  global Tailwind build
   ──────────────────────────────────────────────────────────── */

@import "tailwindcss";
@tailwind base;
@tailwind components;
@tailwind utilities;

/* -----------------------------------------------------------
   1.  LOW‑LEVEL UTILITIES
   ----------------------------------------------------------- */
@layer utilities {
    .max-w-md       { max-width: 28rem; }
}

/* -----------------------------------------------------------
   2.  COMPONENTS (Tailwind @apply)
   ----------------------------------------------------------- */
@layer components {
    .auth-card {
        @apply mx-auto bg-white rounded-lg shadow-lg p-6;
        max-width: 28rem; /* fallback */
    }

    .form-input {
        @apply block w-full px-4 py-2 border border-gray-300 rounded-md;
        @apply focus:ring-2 focus:ring-teal-500 focus:border-transparent;
    }

    .btn-primary {
        @apply w-full text-white font-semibold py-2 rounded-lg shadow-md transition;
        background-image: linear-gradient(to right, #0694a2, #3182ce);
    }

    /* Docs‑specific card */
    .card         { @apply bg-white rounded-lg shadow-md p-6 mb-6; }
    .card-heading { @apply text-2xl font-semibold text-[#0A2240] mb-4; }

    /* Method badge colours */
    .method-badge { @apply inline-block px-2 py-1 rounded text-xs font-semibold uppercase min-w-[4.5rem] text-center; }
    .method-badge.get     { @apply bg-blue-100  text-blue-900;  }
    .method-badge.post    { @apply bg-green-100 text-green-900; }
    .method-badge.put,
    .method-badge.patch   { @apply bg-yellow-100 text-yellow-900; }
    .method-badge.delete  { @apply bg-red-100   text-red-900; }

    /* -------------------------------------------------------
       UPDATED  ➜  Code block (no wrapping, scroll instead)
       -------------------------------------------------------*/
    .code-block {
        @apply bg-gray-50 p-4 rounded leading-relaxed text-sm font-mono;
        white-space: pre;            /* preserve long lines */
        overflow-x: auto;            /* horizontal scroll */
        -webkit-overflow-scrolling: touch;
    }

    /* -------------------------------------------------------
       Docs Navigation Styling (new!)
       -------------------------------------------------------*/
    .docs-nav {
        @apply sticky top-4;
    }

    .docs-nav .nav-section {
        @apply bg-white p-4 rounded-lg shadow-sm mb-4;
    }

    .docs-nav h3 {
        @apply text-lg font-bold mb-4;
    }

    .docs-nav ul {
        @apply space-y-1;
    }

    .docs-nav a {
        @apply block px-3 py-2 rounded transition-colors text-gray-700;
    }

    .docs-nav a:hover:not(.active) {
        @apply bg-gray-100;
    }

    .docs-nav a.active {
        @apply bg-[#0A2240] text-white font-medium;
    }

    /* -------------------------------------------------------
       Documentation Sections (new!)
       -------------------------------------------------------*/
    .docs-section {
        @apply mb-16 pb-8 border-b border-gray-200;
    }

    .docs-section:last-child {
        @apply border-b-0 pb-0;
    }

    .docs-section h2 {
        @apply text-2xl font-bold mb-6 scroll-mt-8;
    }

    /* -------------------------------------------------------
       Endpoint Rows (new!)
       -------------------------------------------------------*/
    .endpoint-row {
        @apply bg-white p-4 rounded-lg border border-gray-200 hover:border-indigo-300 transition mb-4;
    }

    /* -------------------------------------------------------
       Response examples and tabs (new!)
       -------------------------------------------------------*/
    .tab-nav {
        @apply flex border-b border-gray-200;
    }

    .tab-btn {
        @apply py-3 px-4 font-medium cursor-pointer;
        @apply text-gray-500 hover:text-gray-700;
        @apply transition duration-200;
    }

    .tab-btn.active {
        @apply text-[#0A2240] border-b-2 border-[#0A2240];
    }

    .tab-content {
        @apply py-4;
    }

    .tab-content:not(.active) {
        @apply hidden;
    }

    /* -------------------------------------------------------
       Breadcrumbs (enhanced)
       -------------------------------------------------------*/
    .breadcrumbs {
        @apply flex flex-wrap items-center text-sm text-gray-500 mb-4;
    }

    .breadcrumbs li {
        @apply flex items-center;
    }

    .breadcrumbs li:not(:last-child)::after {
        content: '/';
        @apply mx-2 text-gray-400;
    }

    .breadcrumbs a {
        @apply text-blue-600 hover:text-blue-800;
    }

    /* -------------------------------------------------------
       Code examples tabs (enhanced)
       -------------------------------------------------------*/
    .code-example {
        @apply mb-4;
    }

    .code-example:not(.active) {
        @apply hidden;
    }

    /* -------------------------------------------------------
       Search input (enhanced)
       -------------------------------------------------------*/
    .search-input {
        @apply w-full p-2 pl-10 border border-gray-300 rounded-md;
        @apply focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent;
        @apply bg-white;
    }

    .search-icon {
        @apply absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400;
    }

    /* -------------------------------------------------------
       API Endpoint Cards (enhanced)
       -------------------------------------------------------*/
    .endpoint-card {
        @apply bg-white p-6 rounded-lg shadow-sm border border-gray-200;
        @apply hover:border-indigo-300 transition duration-200;
    }

    .endpoint-card .method {
        @apply inline-block px-3 py-1 rounded-full text-xs font-semibold;
        @apply mr-2;
    }

    .endpoint-card .method.get {
        @apply bg-green-100 text-green-800;
    }

    .endpoint-card .method.post {
        @apply bg-blue-100 text-blue-800;
    }

    .endpoint-card .method.put {
        @apply bg-yellow-100 text-yellow-800;
    }

    .endpoint-card .method.delete {
        @apply bg-red-100 text-red-800;
    }

    .endpoint-card .uri {
        @apply font-mono text-sm bg-gray-100 px-2 py-1 rounded;
    }

    .endpoint-card .title {
        @apply font-bold text-lg mb-1;
    }

    .endpoint-card .description {
        @apply text-gray-600 text-sm mb-4;
    }
}

/* -----------------------------------------------------------
   3.  BASE STYLES
   ----------------------------------------------------------- */
body {
    font-family: 'Figtree', sans-serif;
    @apply m-0 p-0 flex flex-col items-center min-h-screen bg-[#f0f4f8] text-[#102A43];
}

button,[type='button'],[type='reset'],[type='submit'] { cursor: pointer; }

/* Hero gradient */
.api-hero { background-image: linear-gradient(to right, #0A2240, #007C91); }

/* High‑contrast focus ring */
:focus-visible { outline: 3px solid #2563eb; outline-offset: 2px; }

/* Skip‑link helpers */
.sr-only       { @apply absolute w-px h-px -m-px overflow-hidden whitespace-nowrap border-0; }
.focus\:not-sr-only:focus { @apply static w-auto h-auto m-0 overflow-visible whitespace-normal; }

/* Header */
header {
    background: linear-gradient(90deg, #0A2240, #007C91);
    @apply w-full py-5 text-center flex flex-col items-center;
}
header img { @apply max-w-[140px] mb-2 rounded bg-white/85 shadow relative z-[1] p-1.5; }

/* Parameter badge */
.param-badge { @apply inline-block bg-gray-100 rounded px-2 py-1 text-xs font-mono mb-1 mr-1; }

/* Tables */
.api-table th { @apply uppercase text-xs font-semibold tracking-wide; }
.api-table td { @apply align-middle; }
tr:hover      { @apply bg-blue-50; }

/* Documentation sections - prevent stacking */
#features, #authentication, #endpoints, #responses, #examples {
    @apply pt-4 mb-12 clear-both;
    scroll-margin-top: 2rem;
}

/* Responsive tweak */
@media (max-width: 768px) {
    header h1 { font-size: 1.8rem; }
    .docs-nav {
        @apply static mb-8;
    }

    /* Improved mobile navigation */
    .docs-nav .nav-section {
        @apply border-b pb-4;
    }

    /* Stack the main layout on mobile */
    .main-content-wrapper {
        @apply flex-col;
    }

    /* Full width content on mobile */
    .main-content {
        @apply w-full;
    }

    /* Adjust tab navigation for small screens */
    .tab-nav {
        @apply overflow-x-auto pb-1;
        -webkit-overflow-scrolling: touch;
    }

    .tab-btn {
        @apply whitespace-nowrap;
    }
}

/* hide Alpine elements until JS is ready */
[x-cloak] { display: none !important; }

.modal-backdrop {
    background-color: transparent !important;
    backdrop-filter: blur(1px);
}

/* Scroll margin for anchor links */
[id] {
    scroll-margin-top: 1rem;
}
